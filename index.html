<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>cute countdown widget</title>
<!-- Mogula font -->
<link href="https://fonts.cdnfonts.com/css/mogula" rel="stylesheet">
<style>
  body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    background: transparent;
  }

  .widget {
    background: rgba(transparent); /* subtle transparent bg */
    border-radius: 20px;
    padding: 30px 15px;
    width: 100%;
    max-width: 300px;
    text-align: center;
    box-shadow: 0 6px 12px rgba(0,0,0,0.05);
    transition: background 0.3s ease;
    backdrop-filter: blur(5px);
  }

  .widget h2 {
    font-family: 'Mogula', sans-serif;
    font-size: 26px;
    margin: 0 0 10px 0;
    color: #000;
  }

  .widget p {
    font-family: 'Mogula', sans-serif;
    font-size: 20px;
    margin: 0;
    color: #000;
  }

  .themes {
    display: flex;
    justify-content: center;
    margin-top: 12px;
  }

  .theme-circle {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    margin: 0 5px;
    cursor: pointer;
    border: 2px solid #fff;
    transition: transform 0.2s;
  }

  .theme-circle:hover {
    transform: scale(1.2);
  }
</style>
</head>
<body>

<div class="widget" id="widget">
  <h2 id="displayName">your countdown</h2>
  <p id="displayCountdown">0d 0h 0m 0s</p>
  <div class="themes" id="themes">
    <div class="theme-circle" style="background: #ffe4e1;" data-theme="#ffe4e1"></div>
    <div class="theme-circle" style="background: #d8bfd8;" data-theme="#d8bfd8"></div>
    <div class="theme-circle" style="background: #fdf6e3;" data-theme="#fdf6e3"></div>
    <div class="theme-circle" style="background: #cfe0e8;" data-theme="#cfe0e8"></div>
  </div>
</div>

<script>
const displayName = document.getElementById('displayName');
const displayCountdown = document.getElementById('displayCountdown');
const widget = document.getElementById('widget');
const themeCircles = document.querySelectorAll('.theme-circle');

// Function to slightly darken a hex color
function darkenColor(hex, amount = 0.3) {
  hex = hex.replace("#","");
  let r = parseInt(hex.substring(0,2),16);
  let g = parseInt(hex.substring(2,4),16);
  let b = parseInt(hex.substring(4,6),16);
  r = Math.floor(r * (1 - amount));
  g = Math.floor(g * (1 - amount));
  b = Math.floor(b * (1 - amount));
  r = r.toString(16).padStart(2,'0');
  g = g.toString(16).padStart(2,'0');
  b = b.toString(16).padStart(2,'0');
  return `#${r}${g}${b}`;
}

// Load saved data or prompt user
let countdownName = localStorage.getItem('countdownName');
let countdownDate = localStorage.getItem('countdownDate');
let countdownTheme = localStorage.getItem('countdownTheme');

// Prompt user for missing data
if(!countdownName) {
  countdownName = prompt("name your countdown") || "your countdown";
  localStorage.setItem('countdownName', countdownName);
}
if(!countdownDate) {
  countdownDate = prompt("enter your countdown date! (YYYY-MM-DD)") || new Date().toISOString().slice(0,10);
  localStorage.setItem('countdownDate', countdownDate);
}
if(!countdownTheme) {
  countdownTheme = "#ffe4e1";
  localStorage.setItem('countdownTheme', countdownTheme);
}

// Apply saved theme
widget.style.background = countdownTheme;
displayName.style.color = darkenColor(countdownTheme, 0.3);
displayName.textContent = countdownName;

// Theme circle click
themeCircles.forEach(circle => {
  circle.addEventListener('click', () => {
    const color = circle.dataset.theme;
    widget.style.background = color;
    displayName.style.color = darkenColor(color, 0.3);
    localStorage.setItem('countdownTheme', color);
  });
});

// Countdown logic
function updateCountdown() {
  const date = new Date(countdownDate);
  displayName.textContent = countdownName;
  if(date) {
    const now = new Date();
    const diff = date - now;
    if(diff > 0) {
      const days = Math.floor(diff / (1000*60*60*24));
      const hours = Math.floor((diff / (1000*60*60)) % 24);
      const minutes = Math.floor((diff / (1000*60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      displayCountdown.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    } else {
      displayCountdown.textContent = ".ñ•î ›Å Àñ it's time! .ñ•î ›Å Àñ";
    }
  }
}

setInterval(updateCountdown, 1000);
updateCountdown();
</script>

</body>
</html>
